var _0x10ed=['fillStyle','#afafaf','_name_entering','_room_entering','_name','_room','waiting','err','Connecting','entering','ready','keydown','key','match','Backspace','substr','Enter','connect','ws://tiktaktoe.openode.io','onmessage','parse','data','handlemsg','setname','join','Could\x20not\x20connect.','Creating\x20new\x20board\x20and\x20starting\x20game.','nmm','fillText','Tie','Winner:\x20','Enter\x20room\x20name','Waiting\x20for\x20other','player','Click\x20to\x20start','copy','slice','getmoves','length','push','playing','getElementById','game','ctx','getContext','width','height','strokeStyle','#ffffff','addEventListener','click','clickHandler','winner','ding','blip.mp3','deinit','removeEventListener','send','stringify','undefined','ping','pong','sync','block','synchronize','evt','forEach','getrect','check','splice','indexOf','start','draw','clearRect','beginPath','moveTo','lineTo','arc','stroke','pageX','pageY','clientX','body','scrollLeft','documentElement','scrollTop','offsetLeft','offsetTop','log','curr','font','30px\x20Bowlby\x20One\x20SC','textAlign','extBaseline','middle'];(function(_0x2d8f05,_0x4b81bb){var _0x4d74cb=function(_0x32719f){while(--_0x32719f){_0x2d8f05['push'](_0x2d8f05['shift']());}};_0x4d74cb(++_0x4b81bb);}(_0x10ed,0xe1));var _0x5e0a=function(_0x1dc266,_0xac8e44){_0x1dc266=_0x1dc266-0x0;var _0x3ca463=_0x10ed[_0x1dc266];return _0x3ca463;};class Board{constructor(_0x36bc12){if(typeof _0x36bc12!=='undefined'){this['p']=_0x36bc12;}else{this['p']=[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}}[_0x5e0a('0x0')](){return new Board(this['p'][_0x5e0a('0x1')]());}['check'](_0x202a39,_0x34e2ac){if(this['p'][_0x202a39]==0x0){this['p'][_0x202a39]=_0x34e2ac?0x2:0x1;}else return!![];}[_0x5e0a('0x2')](){var _0x898475=[];for(var _0xf66085=0x0;_0xf66085<this['p'][_0x5e0a('0x3')];_0xf66085++){if(this['p'][_0xf66085]===0x0)_0x898475[_0x5e0a('0x4')](_0xf66085);}return _0x898475;}['getwinner'](){var _0x56f36f=_0x1730e9=>{var _0x249dc1=_0x1730e9[0x0];for(var _0x2fd618=0x1;_0x2fd618<_0x1730e9[_0x5e0a('0x3')];_0x2fd618++){if(_0x1730e9[_0x2fd618]!=_0x249dc1){return![];}}return _0x249dc1;};for(var _0x406cbc=0x0;_0x406cbc<0x3;_0x406cbc++){var _0x4777e2=_0x56f36f(this['p']['slice'](_0x406cbc*0x3,_0x406cbc*0x3+0x3));if(_0x4777e2)return _0x4777e2;var _0x22f6de=_0x56f36f([this['p'][_0x406cbc],this['p'][0x3+_0x406cbc],this['p'][0x2*0x3+_0x406cbc]]);if(_0x22f6de)return _0x22f6de;}var _0x427039=_0x56f36f([this['p'][0x0],this['p'][0x4],this['p'][0x8]]);if(_0x427039)return _0x427039;var _0x53a168=_0x56f36f([this['p'][0x2],this['p'][0x4],this['p'][0x6]]);if(_0x53a168)return _0x53a168;return-0x1;}}class Game{constructor(_0x43ea2c){this['b']=new Board();this[_0x5e0a('0x5')]=!![];this['c']=document[_0x5e0a('0x6')](_0x5e0a('0x7'));this[_0x5e0a('0x8')]=this['c'][_0x5e0a('0x9')]('2d');this[_0x5e0a('0x8')][_0x5e0a('0xa')]=this['c'][_0x5e0a('0xa')];this[_0x5e0a('0x8')][_0x5e0a('0xb')]=this['c'][_0x5e0a('0xb')];this['ctx'][_0x5e0a('0xc')]=_0x5e0a('0xd');this['c'][_0x5e0a('0xe')](_0x5e0a('0xf'),_0x307fdf=>{this[_0x5e0a('0x10')](_0x307fdf);},![]);this['evt']=[];this['block']=![];this[_0x5e0a('0x11')]=-0x1;this['ws']=_0x43ea2c;}[_0x5e0a('0x12')](){var _0x26acb8=new Audio(_0x5e0a('0x13'));_0x26acb8['play']();}[_0x5e0a('0x14')](){this['c'][_0x5e0a('0x15')](_0x5e0a('0xf'),this[_0x5e0a('0x10')]);}[_0x5e0a('0x16')](_0x1f963e,_0x543012){this['ws'][_0x5e0a('0x16')](JSON[_0x5e0a('0x17')](_0x1f963e));if(typeof _0x543012!==_0x5e0a('0x18'))_0x543012();}['handlemsg'](_0xb95fb5){if(typeof _0xb95fb5[_0x5e0a('0x19')]!==_0x5e0a('0x18')){return this[_0x5e0a('0x16')]({'action':_0x5e0a('0x1a')});}else if(typeof _0xb95fb5[_0x5e0a('0x1b')]!==_0x5e0a('0x18')){this[_0x5e0a('0x5')]=_0xb95fb5[_0x5e0a('0x1b')][_0x5e0a('0x5')];this['block']=_0xb95fb5[_0x5e0a('0x1b')][_0x5e0a('0x1c')];this[_0x5e0a('0x11')]=_0xb95fb5['sync'][_0x5e0a('0x11')];this['b']['p']=_0xb95fb5['sync']['p'];if(this[_0x5e0a('0x5')])return this['ml']();}if(_0xb95fb5['s']==='ok')return;}[_0x5e0a('0x1d')](){this['send']({'action':_0x5e0a('0x1b')});}['start'](){this['synchronize']();}['ml'](){var _0x1f0e81=this[_0x5e0a('0x1e')][_0x5e0a('0x3')];var _0x17f9ce=![];this[_0x5e0a('0x1e')][_0x5e0a('0x1f')](_0x464071=>{if(this['b']['p'][this[_0x5e0a('0x20')](_0x464071['x'],_0x464071['y'])]!==0x0)_0x17f9ce=!![];else{this[_0x5e0a('0x16')]({'action':_0x5e0a('0x21'),'r':this['getrect'](_0x464071['x'],_0x464071['y'])});this[_0x5e0a('0x12')]();}this['evt'][_0x5e0a('0x22')](this[_0x5e0a('0x1e')][_0x5e0a('0x23')](_0x464071),0x1);});this['draw']();if(!this[_0x5e0a('0x5')]){this[_0x5e0a('0x14')]();}else setTimeout(()=>{this[_0x5e0a('0x24')]();},0x28);}['getrect'](_0x392d0a,_0x2903d9){for(var _0x19bc01=0x1;_0x19bc01<=0x3;_0x19bc01++)for(var _0x10b244=0x1;_0x10b244<=0x3;_0x10b244++){var _0x15060a=this[_0x5e0a('0x8')][_0x5e0a('0xa')]/0x3*(_0x10b244-0x1);var _0x513da8=this[_0x5e0a('0x8')][_0x5e0a('0xb')]/0x3*(_0x19bc01-0x1);var _0x4e732f=this[_0x5e0a('0x8')][_0x5e0a('0xa')]/0x3*_0x10b244;var _0x30a47b=this[_0x5e0a('0x8')]['height']/0x3*_0x19bc01;if(_0x392d0a>=_0x15060a&&_0x2903d9>=_0x513da8&&_0x392d0a<=_0x4e732f&&_0x2903d9<=_0x30a47b){return(_0x19bc01-0x1)*0x3+(_0x10b244-0x1);}}}[_0x5e0a('0x25')](){this[_0x5e0a('0x8')][_0x5e0a('0x26')](0x0,0x0,this[_0x5e0a('0x8')]['width'],this[_0x5e0a('0x8')][_0x5e0a('0xb')]);this[_0x5e0a('0x8')][_0x5e0a('0x27')]();this[_0x5e0a('0x8')][_0x5e0a('0x28')](this[_0x5e0a('0x8')][_0x5e0a('0xa')]/0x3,0x0);this['ctx'][_0x5e0a('0x29')](this[_0x5e0a('0x8')][_0x5e0a('0xa')]/0x3,this[_0x5e0a('0x8')][_0x5e0a('0xa')]);this['ctx'][_0x5e0a('0x28')](this['ctx']['width']/0x3*0x2,0x0);this[_0x5e0a('0x8')][_0x5e0a('0x29')](this[_0x5e0a('0x8')][_0x5e0a('0xa')]/0x3*0x2,this['ctx']['width']);this['ctx'][_0x5e0a('0x28')](0x0,this['ctx'][_0x5e0a('0xb')]/0x3);this[_0x5e0a('0x8')][_0x5e0a('0x29')](this[_0x5e0a('0x8')][_0x5e0a('0xb')],this[_0x5e0a('0x8')][_0x5e0a('0xb')]/0x3);this[_0x5e0a('0x8')][_0x5e0a('0x28')](0x0,this['ctx'][_0x5e0a('0xb')]/0x3*0x2);this['ctx'][_0x5e0a('0x29')](this[_0x5e0a('0x8')][_0x5e0a('0xb')],this['ctx']['height']/0x3*0x2);for(var _0x2cad7c=0x0;_0x2cad7c<0x3;_0x2cad7c++)for(var _0x508533=0x0;_0x508533<0x3;_0x508533++){var _0x1c5325=this['b']['p'][_0x2cad7c*0x3+_0x508533];var _0x444c62=0x42+this[_0x5e0a('0x8')][_0x5e0a('0xa')]/0x3*_0x508533;var _0x3bd29b=0x42+this[_0x5e0a('0x8')]['height']/0x3*_0x2cad7c;if(_0x1c5325==0x1){this[_0x5e0a('0x8')][_0x5e0a('0x28')](_0x444c62+0x28,_0x3bd29b);this['ctx'][_0x5e0a('0x2a')](_0x444c62,_0x3bd29b,0x28,0x0,0x2*Math['PI']);}else if(_0x1c5325==0x2){this[_0x5e0a('0x8')][_0x5e0a('0x28')](_0x444c62-0x28,_0x3bd29b-0x28);this[_0x5e0a('0x8')][_0x5e0a('0x29')](_0x444c62+0x28,_0x3bd29b+0x28);this[_0x5e0a('0x8')][_0x5e0a('0x28')](_0x444c62+0x28,_0x3bd29b-0x28);this[_0x5e0a('0x8')][_0x5e0a('0x29')](_0x444c62-0x28,_0x3bd29b+0x28);}}this[_0x5e0a('0x8')][_0x5e0a('0x2b')]();}['clickHandler'](_0x415ad9){if(!this[_0x5e0a('0x5')]||this[_0x5e0a('0x1c')]){return;}var _0x2b2ae5={};if(_0x415ad9[_0x5e0a('0x2c')]||_0x415ad9[_0x5e0a('0x2d')]){_0x2b2ae5['x']=_0x415ad9[_0x5e0a('0x2c')];_0x2b2ae5['y']=_0x415ad9[_0x5e0a('0x2d')];}else{_0x2b2ae5['x']=_0x415ad9[_0x5e0a('0x2e')]+document[_0x5e0a('0x2f')][_0x5e0a('0x30')]+document[_0x5e0a('0x31')][_0x5e0a('0x30')];_0x2b2ae5['y']=_0x415ad9['clientY']+document[_0x5e0a('0x2f')][_0x5e0a('0x32')]+document[_0x5e0a('0x31')][_0x5e0a('0x32')];}_0x2b2ae5['x']-=this['c'][_0x5e0a('0x33')];_0x2b2ae5['y']-=this['c'][_0x5e0a('0x34')];this[_0x5e0a('0x1e')][_0x5e0a('0x4')](_0x2b2ae5);}}class GameManager{constructor(){console[_0x5e0a('0x35')]('Starting\x20Game\x20Manager');this[_0x5e0a('0x36')]=null;this['c']=document[_0x5e0a('0x6')](_0x5e0a('0x7'));this[_0x5e0a('0x8')]=this['c'][_0x5e0a('0x9')]('2d');this[_0x5e0a('0x8')][_0x5e0a('0x37')]=_0x5e0a('0x38');this[_0x5e0a('0x8')][_0x5e0a('0x39')]='center';this[_0x5e0a('0x8')][_0x5e0a('0x3a')]=_0x5e0a('0x3b');this[_0x5e0a('0x8')][_0x5e0a('0x3c')]=_0x5e0a('0x3d');this[_0x5e0a('0x3e')]=!![];this[_0x5e0a('0x3f')]=![];this[_0x5e0a('0x40')]='';this[_0x5e0a('0x41')]='';this['ready']=![];this[_0x5e0a('0x42')]=![];this[_0x5e0a('0x43')]=_0x5e0a('0x44');this['c'][_0x5e0a('0xe')]('click',_0x5a0708=>{if(this[_0x5e0a('0x5')]()||this[_0x5e0a('0x45')]()||!this[_0x5e0a('0x46')]||this[_0x5e0a('0x42')])return;else{this[_0x5e0a('0x42')]=!![];this['ws'][_0x5e0a('0x16')](JSON[_0x5e0a('0x17')]({'action':_0x5e0a('0x24')}));}});document[_0x5e0a('0xe')](_0x5e0a('0x47'),_0x334da7=>{if(!_0x334da7[_0x5e0a('0x48')][_0x5e0a('0x49')](/[^0-9a-z]/i)&&_0x334da7[_0x5e0a('0x48')]!=='OS'){if(this[_0x5e0a('0x45')]()){if(_0x334da7['key']===_0x5e0a('0x4a')){if(this[_0x5e0a('0x3e')])this[_0x5e0a('0x40')]=this[_0x5e0a('0x40')][_0x5e0a('0x4b')](0x0,this[_0x5e0a('0x40')][_0x5e0a('0x3')]-0x1);else if(this[_0x5e0a('0x3f')])this[_0x5e0a('0x41')]=this[_0x5e0a('0x41')][_0x5e0a('0x4b')](0x0,this[_0x5e0a('0x41')]['length']-0x1);}else if(_0x334da7[_0x5e0a('0x48')]===_0x5e0a('0x4c')){if(this[_0x5e0a('0x3e')]){this[_0x5e0a('0x3e')]=![];this['_room_entering']=!![];}else if(this[_0x5e0a('0x3f')]){this[_0x5e0a('0x3f')]=![];this[_0x5e0a('0x4d')]();}}else if(!_0x334da7['key'][_0x5e0a('0x49')](/[^0-9]/i)||_0x334da7[_0x5e0a('0x48')][0x0]!==_0x334da7[_0x5e0a('0x48')][0x0]['toUpperCase']()){if(this[_0x5e0a('0x3e')]&&this[_0x5e0a('0x40')][_0x5e0a('0x3')]<=0x10)this[_0x5e0a('0x40')]+=_0x334da7[_0x5e0a('0x48')];else if(this['_room_entering']&&this['_room'][_0x5e0a('0x3')]<=0x10)this['_room']+=_0x334da7[_0x5e0a('0x48')];}}}});this['sw']=![];this[_0x5e0a('0x21')]();}['connect'](){this['ws']=new WebSocket(_0x5e0a('0x4e'));this['ws'][_0x5e0a('0x4f')]=_0x49bb81=>{var _0x209358=JSON[_0x5e0a('0x50')](_0x49bb81[_0x5e0a('0x51')]);if(typeof _0x209358['e']!==_0x5e0a('0x18'))return console['log'](_0x209358['e']);else if(typeof _0x209358[_0x5e0a('0x24')]!=='undefined'){this[_0x5e0a('0x42')]=![];return this['newgame']();}if(this[_0x5e0a('0x36')]!==null)this[_0x5e0a('0x36')][_0x5e0a('0x52')](_0x209358);};this['ws']['onopen']=()=>{console['log']('Connecting\x20with\x20name\x20'+this[_0x5e0a('0x40')]);this['ws'][_0x5e0a('0x16')](JSON[_0x5e0a('0x17')]({'action':_0x5e0a('0x53'),'name':this['_name']}));console[_0x5e0a('0x35')]('Joining\x20room\x20'+this['_room']);this['ws'][_0x5e0a('0x16')](JSON[_0x5e0a('0x17')]({'action':_0x5e0a('0x54'),'name':this[_0x5e0a('0x41')]}));this[_0x5e0a('0x46')]=!![];};this['ws']['onclose']=_0x415d25=>{this[_0x5e0a('0x43')]=_0x5e0a('0x55');};}[_0x5e0a('0x45')](){return this[_0x5e0a('0x3f')]||this[_0x5e0a('0x3e')];}[_0x5e0a('0x5')](){if(this[_0x5e0a('0x36')]!==null)if(this[_0x5e0a('0x36')][_0x5e0a('0x5')])return!![];return![];}['newgame'](){console[_0x5e0a('0x35')](_0x5e0a('0x56'));this[_0x5e0a('0x36')]=new Game(this['ws']);this[_0x5e0a('0x36')][_0x5e0a('0x24')]();}[_0x5e0a('0x21')](){if(this['curr']!==null){if(this[_0x5e0a('0x36')][_0x5e0a('0x5')]||this['sw']){setTimeout(()=>{this[_0x5e0a('0x21')]();},this[_0x5e0a('0x45')]()?0x32:0x258);return;}if(this['curr'][_0x5e0a('0x11')]!==null){this['sw']=!![];this[_0x5e0a('0x8')][_0x5e0a('0x26')](0x0,0x0,this['c']['width'],this['c'][_0x5e0a('0xb')]);this['ctx'][_0x5e0a('0x27')]();if(this[_0x5e0a('0x57')]){this[_0x5e0a('0x8')][_0x5e0a('0x58')]('No\x20more\x20moves',this['c'][_0x5e0a('0xa')]/0x2,this['c']['height']/0x2);}else if(this[_0x5e0a('0x36')][_0x5e0a('0x11')]==-0x1){this['ctx'][_0x5e0a('0x58')](_0x5e0a('0x59'),this['c'][_0x5e0a('0xa')]/0x2,this['c']['height']/0x2);}else{var _0x3a8b1d=this[_0x5e0a('0x36')][_0x5e0a('0x11')]==0x1?'O':'X';this[_0x5e0a('0x8')][_0x5e0a('0x58')](_0x5e0a('0x5a')+_0x3a8b1d,this['c'][_0x5e0a('0xa')]/0x2,this['c'][_0x5e0a('0xb')]/0x2);}setTimeout(()=>{this['curr'][_0x5e0a('0x11')]=null;this['sw']=![];},0x7d0);setTimeout(()=>{this['check']();},this[_0x5e0a('0x45')]()?0x32:0x258);return;}}this[_0x5e0a('0x8')][_0x5e0a('0x26')](0x0,0x0,this['c']['width'],this['c'][_0x5e0a('0xb')]);this['ctx'][_0x5e0a('0x27')]();if(this[_0x5e0a('0x3e')]){this['ctx'][_0x5e0a('0x58')]('Enter\x20your\x20name',this['c'][_0x5e0a('0xa')]/0x2,this['c']['height']/0x2-0x32);this['ctx'][_0x5e0a('0x58')](this[_0x5e0a('0x40')],this['c'][_0x5e0a('0xa')]/0x2,this['c'][_0x5e0a('0xb')]/0x2);}else if(this[_0x5e0a('0x3f')]){this['ctx'][_0x5e0a('0x58')](_0x5e0a('0x5b'),this['c'][_0x5e0a('0xa')]/0x2,this['c'][_0x5e0a('0xb')]/0x2-0x32);this[_0x5e0a('0x8')][_0x5e0a('0x58')](this[_0x5e0a('0x41')],this['c']['width']/0x2,this['c']['height']/0x2);}else if(!this[_0x5e0a('0x46')])this[_0x5e0a('0x8')][_0x5e0a('0x58')](this[_0x5e0a('0x43')],this['c'][_0x5e0a('0xa')]/0x2,this['c'][_0x5e0a('0xb')]/0x2);else if(this[_0x5e0a('0x42')]){this[_0x5e0a('0x8')][_0x5e0a('0x58')](_0x5e0a('0x5c'),this['c'][_0x5e0a('0xa')]/0x2,this['c']['height']/0x2-0x19);this['ctx'][_0x5e0a('0x58')](_0x5e0a('0x5d'),this['c']['width']/0x2,this['c'][_0x5e0a('0xb')]/0x2+0x19);}else this[_0x5e0a('0x8')][_0x5e0a('0x58')](_0x5e0a('0x5e'),this['c'][_0x5e0a('0xa')]/0x2,this['c'][_0x5e0a('0xb')]/0x2);setTimeout(()=>{this['check']();},this[_0x5e0a('0x45')]()?0x32:0x258);}}
