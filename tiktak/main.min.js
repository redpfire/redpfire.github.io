var _0x7513=['evt','block','turn','figx','ding','blip.mp3','play','deinit','removeEventListener','click','send','stringify','sync','winner','synchronize','start','forEach','getrect','splice','indexOf','draw','beginPath','moveTo','lineTo','arc','stroke','#ff0000','pageX','pageY','clientX','body','scrollLeft','clientY','scrollTop','offsetTop','log','Starting\x20Game\x20Manager','curr','getElementById','getContext','font','30px\x20Bowlby\x20One\x20SC','textAlign','extBaseline','middle','#afafaf','_room_entering','_room','waiting','err','Connecting','entering','ready','keydown','key','match','_name','substr','Enter','_name_entering','toUpperCase','connect','wss://tiktaktoe.openode.io','onmessage','parse','data','ping','newgame','join','div','uuid','innerHTML','name','appendChild','part','remove','createElement','handlemsg','onopen','Joining\x20room\x20','roomname','onclose','Could\x20not\x20connect.','Creating\x20new\x20board\x20and\x20starting\x20game.','clearRect','nmm','fillText','No\x20more\x20moves','Tie','Winner:\x20','Enter\x20your\x20name','Enter\x20room\x20name','Waiting\x20for\x20other','player','Click\x20to\x20start','undefined','slice','check','getmoves','push','getwinner','length','playing','game','ctx','width','height','strokeStyle','#ffffff','addEventListener','clickHandler'];(function(_0x1f56f5,_0x51befa){var _0x22e6cb=function(_0x11a476){while(--_0x11a476){_0x1f56f5['push'](_0x1f56f5['shift']());}};_0x22e6cb(++_0x51befa);}(_0x7513,0x1ac));var _0x830d=function(_0x56592e,_0x21f2c6){_0x56592e=_0x56592e-0x0;var _0x510d8f=_0x7513[_0x56592e];return _0x510d8f;};class Board{constructor(_0x4d57c7){if(typeof _0x4d57c7!==_0x830d('0x0')){this['p']=_0x4d57c7;}else{this['p']=[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}}['copy'](){return new Board(this['p'][_0x830d('0x1')]());}[_0x830d('0x2')](_0x94fa98,_0xd396bc){if(this['p'][_0x94fa98]==0x0){this['p'][_0x94fa98]=_0xd396bc?0x2:0x1;}else return!![];}[_0x830d('0x3')](){var _0x4c9fc3=[];for(var _0x3b29e6=0x0;_0x3b29e6<this['p']['length'];_0x3b29e6++){if(this['p'][_0x3b29e6]===0x0)_0x4c9fc3[_0x830d('0x4')](_0x3b29e6);}return _0x4c9fc3;}[_0x830d('0x5')](){var _0x2e4ff2=_0x359842=>{var _0x281feb=_0x359842[0x0];for(var _0x1d2507=0x1;_0x1d2507<_0x359842[_0x830d('0x6')];_0x1d2507++){if(_0x359842[_0x1d2507]!=_0x281feb){return![];}}return _0x281feb;};for(var _0x20b86d=0x0;_0x20b86d<0x3;_0x20b86d++){var _0x242521=_0x2e4ff2(this['p'][_0x830d('0x1')](_0x20b86d*0x3,_0x20b86d*0x3+0x3));if(_0x242521)return _0x242521;var _0x3b0621=_0x2e4ff2([this['p'][_0x20b86d],this['p'][0x3+_0x20b86d],this['p'][0x2*0x3+_0x20b86d]]);if(_0x3b0621)return _0x3b0621;}var _0x4be0a6=_0x2e4ff2([this['p'][0x0],this['p'][0x4],this['p'][0x8]]);if(_0x4be0a6)return _0x4be0a6;var _0x35e114=_0x2e4ff2([this['p'][0x2],this['p'][0x4],this['p'][0x6]]);if(_0x35e114)return _0x35e114;return-0x1;}}class Game{constructor(_0x1c761b,_0x2ee412){this['b']=new Board();this[_0x830d('0x7')]=!![];this['c']=document['getElementById'](_0x830d('0x8'));this[_0x830d('0x9')]=this['c']['getContext']('2d');this[_0x830d('0x9')][_0x830d('0xa')]=this['c'][_0x830d('0xa')];this[_0x830d('0x9')][_0x830d('0xb')]=this['c'][_0x830d('0xb')];this[_0x830d('0x9')][_0x830d('0xc')]=_0x830d('0xd');this['c'][_0x830d('0xe')]('click',_0x206795=>{this[_0x830d('0xf')](_0x206795);},![]);this[_0x830d('0x10')]=[];this[_0x830d('0x11')]=![];this['winner']=-0x1;this['ws']=_0x1c761b;this[_0x830d('0x12')]=![];this[_0x830d('0x13')]=_0x2ee412;}[_0x830d('0x14')](){var _0xe57f20=new Audio(_0x830d('0x15'));_0xe57f20[_0x830d('0x16')]();}[_0x830d('0x17')](){this['c'][_0x830d('0x18')](_0x830d('0x19'),this[_0x830d('0xf')]);}[_0x830d('0x1a')](_0x8ddb0d,_0x30146c){this['ws']['send'](JSON[_0x830d('0x1b')](_0x8ddb0d));if(typeof _0x30146c!==_0x830d('0x0'))_0x30146c();}['handlemsg'](_0x203980){if(typeof _0x203980[_0x830d('0x1c')]!==_0x830d('0x0')){this[_0x830d('0x7')]=_0x203980[_0x830d('0x1c')][_0x830d('0x7')];this[_0x830d('0x11')]=_0x203980['sync'][_0x830d('0x11')];this[_0x830d('0x1d')]=_0x203980[_0x830d('0x1c')][_0x830d('0x1d')];this['b']['p']=_0x203980[_0x830d('0x1c')]['p'];if(this[_0x830d('0x7')])return this['ml']();}else if(typeof _0x203980[_0x830d('0x12')]!==_0x830d('0x0')){this[_0x830d('0x12')]=!![];}}[_0x830d('0x1e')](){this[_0x830d('0x1a')]({'action':'sync'});}[_0x830d('0x1f')](){this['synchronize']();}['ml'](){var _0x60ad2b=this[_0x830d('0x10')][_0x830d('0x6')];this[_0x830d('0x10')][_0x830d('0x20')](_0x8c1e1f=>{if(this['b']['p'][this[_0x830d('0x21')](_0x8c1e1f['x'],_0x8c1e1f['y'])]===0x0&&this['turn']){this['send']({'action':_0x830d('0x2'),'r':this[_0x830d('0x21')](_0x8c1e1f['x'],_0x8c1e1f['y'])});this['turn']=![];this[_0x830d('0x14')]();}this['evt'][_0x830d('0x22')](this[_0x830d('0x10')][_0x830d('0x23')](_0x8c1e1f),0x1);});this[_0x830d('0x24')]();if(!this[_0x830d('0x7')]){this['deinit']();}else setTimeout(()=>{this[_0x830d('0x1f')]();},0x28);}[_0x830d('0x21')](_0x26c106,_0x4e4514){for(var _0x42f40b=0x1;_0x42f40b<=0x3;_0x42f40b++)for(var _0x311dfa=0x1;_0x311dfa<=0x3;_0x311dfa++){var _0x32945c=this['ctx']['width']/0x3*(_0x311dfa-0x1);var _0x2e0600=this['ctx'][_0x830d('0xb')]/0x3*(_0x42f40b-0x1);var _0x3dfbaf=this['ctx'][_0x830d('0xa')]/0x3*_0x311dfa;var _0x3d31a1=this[_0x830d('0x9')][_0x830d('0xb')]/0x3*_0x42f40b;if(_0x26c106>=_0x32945c&&_0x4e4514>=_0x2e0600&&_0x26c106<=_0x3dfbaf&&_0x4e4514<=_0x3d31a1){return(_0x42f40b-0x1)*0x3+(_0x311dfa-0x1);}}}[_0x830d('0x24')](){this[_0x830d('0x9')]['clearRect'](0x0,0x0,this[_0x830d('0x9')]['width'],this[_0x830d('0x9')][_0x830d('0xb')]);this[_0x830d('0x9')]['strokeStyle']=_0x830d('0xd');this['ctx'][_0x830d('0x25')]();this[_0x830d('0x9')][_0x830d('0x26')](this[_0x830d('0x9')][_0x830d('0xa')]/0x3,0x0);this[_0x830d('0x9')][_0x830d('0x27')](this[_0x830d('0x9')]['width']/0x3,this[_0x830d('0x9')][_0x830d('0xa')]);this[_0x830d('0x9')][_0x830d('0x26')](this[_0x830d('0x9')][_0x830d('0xa')]/0x3*0x2,0x0);this[_0x830d('0x9')][_0x830d('0x27')](this['ctx'][_0x830d('0xa')]/0x3*0x2,this[_0x830d('0x9')][_0x830d('0xa')]);this[_0x830d('0x9')]['moveTo'](0x0,this[_0x830d('0x9')][_0x830d('0xb')]/0x3);this[_0x830d('0x9')]['lineTo'](this[_0x830d('0x9')][_0x830d('0xb')],this['ctx'][_0x830d('0xb')]/0x3);this[_0x830d('0x9')]['moveTo'](0x0,this['ctx'][_0x830d('0xb')]/0x3*0x2);this[_0x830d('0x9')][_0x830d('0x27')](this[_0x830d('0x9')]['height'],this['ctx'][_0x830d('0xb')]/0x3*0x2);for(var _0x2eff91=0x0;_0x2eff91<0x3;_0x2eff91++)for(var _0x1e5c26=0x0;_0x1e5c26<0x3;_0x1e5c26++){var _0x42f2db=this['b']['p'][_0x2eff91*0x3+_0x1e5c26];var _0x4a5e05=0x42+this[_0x830d('0x9')][_0x830d('0xa')]/0x3*_0x1e5c26;var _0xd93ea6=0x42+this['ctx'][_0x830d('0xb')]/0x3*_0x2eff91;if(_0x42f2db==0x1){this[_0x830d('0x9')][_0x830d('0x26')](_0x4a5e05+0x28,_0xd93ea6);this[_0x830d('0x9')]['arc'](_0x4a5e05,_0xd93ea6,0x28,0x0,0x2*Math['PI']);}else if(_0x42f2db==0x2){this[_0x830d('0x9')]['moveTo'](_0x4a5e05-0x28,_0xd93ea6-0x28);this[_0x830d('0x9')][_0x830d('0x27')](_0x4a5e05+0x28,_0xd93ea6+0x28);this[_0x830d('0x9')]['moveTo'](_0x4a5e05+0x28,_0xd93ea6-0x28);this[_0x830d('0x9')][_0x830d('0x27')](_0x4a5e05-0x28,_0xd93ea6+0x28);}}var _0x294d16=this[_0x830d('0x9')]['width']/0x2;var _0x2ddf18=this[_0x830d('0x9')][_0x830d('0xb')]-0xd;if(!this[_0x830d('0x13')]){this['ctx'][_0x830d('0x26')](_0x294d16+0xa,_0x2ddf18);this['ctx'][_0x830d('0x28')](_0x294d16,_0x2ddf18,0xa,0x0,0x2*Math['PI']);}else{this['ctx'][_0x830d('0x26')](_0x294d16-0xa,_0x2ddf18-0xa);this[_0x830d('0x9')]['lineTo'](_0x294d16+0xa,_0x2ddf18+0xa);this[_0x830d('0x9')][_0x830d('0x26')](_0x294d16+0xa,_0x2ddf18-0xa);this[_0x830d('0x9')][_0x830d('0x27')](_0x294d16-0xa,_0x2ddf18+0xa);}this[_0x830d('0x9')][_0x830d('0x29')]();var _0x5d7635=this[_0x830d('0x9')][_0x830d('0xa')]-0x2d;var _0x2c6e8f=0xd;if(!this[_0x830d('0x13')]&&this[_0x830d('0x12')]||this[_0x830d('0x13')]&&!this[_0x830d('0x12')])this[_0x830d('0x9')][_0x830d('0xc')]=_0x830d('0x2a');this[_0x830d('0x9')][_0x830d('0x25')]();this[_0x830d('0x9')]['moveTo'](_0x5d7635+0xa,_0x2c6e8f);this[_0x830d('0x9')][_0x830d('0x28')](_0x5d7635,_0x2c6e8f,0xa,0x0,0x2*Math['PI']);this[_0x830d('0x9')][_0x830d('0x29')]();if(!this['figx']&&!this[_0x830d('0x12')]||this['figx']&&this[_0x830d('0x12')])this[_0x830d('0x9')]['strokeStyle']=_0x830d('0x2a');else this['ctx'][_0x830d('0xc')]=_0x830d('0xd');this['ctx'][_0x830d('0x25')]();this[_0x830d('0x9')][_0x830d('0x26')](_0x5d7635+0x17-0xa,_0x2c6e8f-0xa);this[_0x830d('0x9')][_0x830d('0x27')](_0x5d7635+0x17+0xa,_0x2c6e8f+0xa);this[_0x830d('0x9')]['moveTo'](_0x5d7635+0x17+0xa,_0x2c6e8f-0xa);this['ctx'][_0x830d('0x27')](_0x5d7635+0x17-0xa,_0x2c6e8f+0xa);this['ctx'][_0x830d('0x29')]();}[_0x830d('0xf')](_0x32c1b7){if(!this[_0x830d('0x7')]||this[_0x830d('0x11')]){return;}var _0x45c2d5={};if(_0x32c1b7[_0x830d('0x2b')]||_0x32c1b7[_0x830d('0x2c')]){_0x45c2d5['x']=_0x32c1b7[_0x830d('0x2b')];_0x45c2d5['y']=_0x32c1b7[_0x830d('0x2c')];}else{_0x45c2d5['x']=_0x32c1b7[_0x830d('0x2d')]+document[_0x830d('0x2e')][_0x830d('0x2f')]+document['documentElement'][_0x830d('0x2f')];_0x45c2d5['y']=_0x32c1b7[_0x830d('0x30')]+document[_0x830d('0x2e')][_0x830d('0x31')]+document['documentElement']['scrollTop'];}_0x45c2d5['x']-=this['c']['offsetLeft'];_0x45c2d5['y']-=this['c'][_0x830d('0x32')];this[_0x830d('0x10')][_0x830d('0x4')](_0x45c2d5);}}class GameManager{constructor(){console[_0x830d('0x33')](_0x830d('0x34'));this[_0x830d('0x35')]=null;this['c']=document[_0x830d('0x36')](_0x830d('0x8'));this[_0x830d('0x9')]=this['c'][_0x830d('0x37')]('2d');this[_0x830d('0x9')][_0x830d('0x38')]=_0x830d('0x39');this[_0x830d('0x9')][_0x830d('0x3a')]='center';this['ctx'][_0x830d('0x3b')]=_0x830d('0x3c');this[_0x830d('0x9')]['fillStyle']=_0x830d('0x3d');this['_name_entering']=!![];this[_0x830d('0x3e')]=![];this['_name']='';this[_0x830d('0x3f')]='';this['ready']=![];this[_0x830d('0x40')]=![];this[_0x830d('0x41')]=_0x830d('0x42');this['c'][_0x830d('0xe')](_0x830d('0x19'),_0x13762f=>{if(this[_0x830d('0x7')]()||this[_0x830d('0x43')]()||!this[_0x830d('0x44')]||this[_0x830d('0x40')])return;else{this['waiting']=!![];this['ws']['send'](JSON[_0x830d('0x1b')]({'action':_0x830d('0x1f')}));}});document[_0x830d('0xe')](_0x830d('0x45'),_0x40669c=>{if(!_0x40669c[_0x830d('0x46')][_0x830d('0x47')](/[^0-9a-z]/i)&&_0x40669c[_0x830d('0x46')]!=='OS'){if(this[_0x830d('0x43')]()){if(_0x40669c[_0x830d('0x46')]==='Backspace'){if(this['_name_entering'])this[_0x830d('0x48')]=this[_0x830d('0x48')][_0x830d('0x49')](0x0,this[_0x830d('0x48')][_0x830d('0x6')]-0x1);else if(this[_0x830d('0x3e')])this[_0x830d('0x3f')]=this[_0x830d('0x3f')][_0x830d('0x49')](0x0,this[_0x830d('0x3f')][_0x830d('0x6')]-0x1);}else if(_0x40669c['key']===_0x830d('0x4a')){if(this['_name_entering']){if(this[_0x830d('0x48')]==='')return;this[_0x830d('0x4b')]=![];this[_0x830d('0x3e')]=!![];}else if(this['_room_entering']){if(this['_room']==='')return;this['_room_entering']=![];this['connect']();}}else if(!_0x40669c[_0x830d('0x46')][_0x830d('0x47')](/[^0-9]/i)||_0x40669c[_0x830d('0x46')][0x0]!==_0x40669c[_0x830d('0x46')][0x0][_0x830d('0x4c')]()){if(this[_0x830d('0x4b')]&&this[_0x830d('0x48')][_0x830d('0x6')]<=0x10)this[_0x830d('0x48')]+=_0x40669c[_0x830d('0x46')];else if(this[_0x830d('0x3e')]&&this[_0x830d('0x3f')][_0x830d('0x6')]<=0x10)this['_room']+=_0x40669c[_0x830d('0x46')];}}}});this['sw']=![];this[_0x830d('0x2')]();}[_0x830d('0x4d')](){this['ws']=new WebSocket(_0x830d('0x4e'));this['ws'][_0x830d('0x4f')]=_0x5bfa32=>{var _0x44b328=JSON[_0x830d('0x50')](_0x5bfa32[_0x830d('0x51')]);if(typeof _0x44b328['e']!=='undefined')return console[_0x830d('0x33')](_0x44b328['e']);else if(typeof _0x44b328[_0x830d('0x52')]!=='undefined'){return this[_0x830d('0x1a')]({'action':'pong'});}else if(typeof _0x44b328[_0x830d('0x1f')]!==_0x830d('0x0')){this[_0x830d('0x40')]=![];return this[_0x830d('0x53')](_0x44b328['x']);}else if(typeof _0x44b328[_0x830d('0x54')]!==_0x830d('0x0')){var _0xb98aa8=document['getElementById']('room');_0x44b328['p'][_0x830d('0x20')](_0x258a04=>{var _0x1e266d=document['createElement'](_0x830d('0x55'));_0x1e266d['id']=_0x258a04[_0x830d('0x56')];_0x1e266d[_0x830d('0x57')]='@'+_0x258a04[_0x830d('0x58')];_0xb98aa8[_0x830d('0x59')](_0x1e266d);});return;}else if(typeof _0x44b328[_0x830d('0x5a')]!==_0x830d('0x0')){document[_0x830d('0x36')](_0x44b328[_0x830d('0x5a')][_0x830d('0x56')])[_0x830d('0x5b')]();}else if(typeof _0x44b328['connect']!==_0x830d('0x0')){var _0xb98aa8=document[_0x830d('0x36')]('room');var _0xfbebd7=document[_0x830d('0x5c')](_0x830d('0x55'));_0xfbebd7['id']=_0x44b328[_0x830d('0x4d')][_0x830d('0x56')];_0xfbebd7[_0x830d('0x57')]='@'+_0x44b328[_0x830d('0x4d')][_0x830d('0x58')];_0xb98aa8[_0x830d('0x59')](_0xfbebd7);return;}if(this[_0x830d('0x35')]!==null)this[_0x830d('0x35')][_0x830d('0x5d')](_0x44b328);};this['ws'][_0x830d('0x5e')]=()=>{console[_0x830d('0x33')]('Connecting\x20with\x20name\x20'+this[_0x830d('0x48')]);this['ws'][_0x830d('0x1a')](JSON[_0x830d('0x1b')]({'action':'setname','name':this[_0x830d('0x48')]}));console['log'](_0x830d('0x5f')+this[_0x830d('0x3f')]);this['ws'][_0x830d('0x1a')](JSON[_0x830d('0x1b')]({'action':_0x830d('0x54'),'name':this[_0x830d('0x3f')]}));document[_0x830d('0x36')](_0x830d('0x60'))[_0x830d('0x57')]=this[_0x830d('0x3f')]+':';this['ready']=!![];};this['ws'][_0x830d('0x61')]=_0x392d61=>{this['err']=_0x830d('0x62');};}[_0x830d('0x43')](){return this['_room_entering']||this[_0x830d('0x4b')];}['playing'](){if(this[_0x830d('0x35')]!==null)if(this[_0x830d('0x35')][_0x830d('0x7')])return!![];return![];}['newgame'](_0x56b8aa){console[_0x830d('0x33')](_0x830d('0x63'));this[_0x830d('0x35')]=new Game(this['ws'],_0x56b8aa);this['curr']['start']();}[_0x830d('0x2')](){if(this[_0x830d('0x35')]!==null){if(this[_0x830d('0x35')][_0x830d('0x7')]||this['sw']){setTimeout(()=>{this[_0x830d('0x2')]();},this[_0x830d('0x43')]()?0x32:0x258);return;}if(this['curr']['winner']!==null){this['sw']=!![];this[_0x830d('0x9')][_0x830d('0x64')](0x0,0x0,this['c'][_0x830d('0xa')],this['c'][_0x830d('0xb')]);this[_0x830d('0x9')][_0x830d('0x25')]();if(this[_0x830d('0x65')]){this[_0x830d('0x9')][_0x830d('0x66')](_0x830d('0x67'),this['c'][_0x830d('0xa')]/0x2,this['c'][_0x830d('0xb')]/0x2);}else if(this[_0x830d('0x35')][_0x830d('0x1d')]==-0x1){this[_0x830d('0x9')][_0x830d('0x66')](_0x830d('0x68'),this['c'][_0x830d('0xa')]/0x2,this['c'][_0x830d('0xb')]/0x2);}else{var _0xd485af=this[_0x830d('0x35')][_0x830d('0x1d')]==0x1?'O':'X';this[_0x830d('0x9')][_0x830d('0x66')](_0x830d('0x69')+_0xd485af,this['c'][_0x830d('0xa')]/0x2,this['c'][_0x830d('0xb')]/0x2);}setTimeout(()=>{this[_0x830d('0x35')][_0x830d('0x1d')]=null;this['sw']=![];},0x7d0);setTimeout(()=>{this[_0x830d('0x2')]();},this['entering']()?0x32:0x258);return;}}this[_0x830d('0x9')]['clearRect'](0x0,0x0,this['c'][_0x830d('0xa')],this['c'][_0x830d('0xb')]);this[_0x830d('0x9')][_0x830d('0x25')]();if(this[_0x830d('0x4b')]){this[_0x830d('0x9')][_0x830d('0x66')](_0x830d('0x6a'),this['c']['width']/0x2,this['c'][_0x830d('0xb')]/0x2-0x32);this[_0x830d('0x9')][_0x830d('0x66')](this[_0x830d('0x48')],this['c'][_0x830d('0xa')]/0x2,this['c'][_0x830d('0xb')]/0x2);}else if(this['_room_entering']){this[_0x830d('0x9')][_0x830d('0x66')](_0x830d('0x6b'),this['c'][_0x830d('0xa')]/0x2,this['c'][_0x830d('0xb')]/0x2-0x32);this[_0x830d('0x9')][_0x830d('0x66')](this[_0x830d('0x3f')],this['c']['width']/0x2,this['c'][_0x830d('0xb')]/0x2);}else if(!this[_0x830d('0x44')])this[_0x830d('0x9')][_0x830d('0x66')](this[_0x830d('0x41')],this['c'][_0x830d('0xa')]/0x2,this['c'][_0x830d('0xb')]/0x2);else if(this[_0x830d('0x40')]){this['ctx']['fillText'](_0x830d('0x6c'),this['c'][_0x830d('0xa')]/0x2,this['c'][_0x830d('0xb')]/0x2-0x19);this[_0x830d('0x9')][_0x830d('0x66')](_0x830d('0x6d'),this['c'][_0x830d('0xa')]/0x2,this['c'][_0x830d('0xb')]/0x2+0x19);}else this[_0x830d('0x9')][_0x830d('0x66')](_0x830d('0x6e'),this['c']['width']/0x2,this['c'][_0x830d('0xb')]/0x2);setTimeout(()=>{this[_0x830d('0x2')]();},this[_0x830d('0x43')]()?0x32:0x258);}}
