var _0x590e=['sync','winner','synchronize','start','forEach','getrect','check','splice','indexOf','draw','clearRect','beginPath','lineTo','moveTo','arc','stroke','pageX','pageY','clientX','body','scrollLeft','documentElement','clientY','scrollTop','offsetLeft','offsetTop','log','Starting\x20Game\x20Manager','curr','getContext','font','30px\x20Bowlby\x20One\x20SC','textAlign','center','middle','fillStyle','#afafaf','_name_entering','_room_entering','_room','err','Connecting','addEventListener','click','entering','ready','waiting','keydown','key','match','Backspace','_name','substr','connect','toUpperCase','wss://tiktaktoe.openode.io','parse','data','newgame','Connecting\x20with\x20name\x20','setname','Joining\x20room\x20','join','onclose','Could\x20not\x20connect.','Creating\x20new\x20board\x20and\x20starting\x20game.','nmm','fillText','Winner:\x20','Enter\x20room\x20name','player','Click\x20to\x20start','undefined','copy','slice','getmoves','push','getwinner','length','playing','getElementById','game','ctx','width','height','evt','block','ding','blip.mp3','play','deinit','removeEventListener','send','stringify','handlemsg','ping','pong'];(function(_0x25b470,_0x4044e4){var _0x198258=function(_0x209f84){while(--_0x209f84){_0x25b470['push'](_0x25b470['shift']());}};_0x198258(++_0x4044e4);}(_0x590e,0x1cc));var _0x561b=function(_0x365704,_0x163a84){_0x365704=_0x365704-0x0;var _0x2d7eed=_0x590e[_0x365704];return _0x2d7eed;};class Board{constructor(_0x1aeb56){if(typeof _0x1aeb56!==_0x561b('0x0')){this['p']=_0x1aeb56;}else{this['p']=[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}}[_0x561b('0x1')](){return new Board(this['p'][_0x561b('0x2')]());}['check'](_0x15de03,_0x582604){if(this['p'][_0x15de03]==0x0){this['p'][_0x15de03]=_0x582604?0x2:0x1;}else return!![];}[_0x561b('0x3')](){var _0xde4676=[];for(var _0x45f231=0x0;_0x45f231<this['p']['length'];_0x45f231++){if(this['p'][_0x45f231]===0x0)_0xde4676[_0x561b('0x4')](_0x45f231);}return _0xde4676;}[_0x561b('0x5')](){var _0x267a51=_0x2ca71f=>{var _0x4aea2e=_0x2ca71f[0x0];for(var _0x5baca2=0x1;_0x5baca2<_0x2ca71f[_0x561b('0x6')];_0x5baca2++){if(_0x2ca71f[_0x5baca2]!=_0x4aea2e){return![];}}return _0x4aea2e;};for(var _0x16abeb=0x0;_0x16abeb<0x3;_0x16abeb++){var _0x3bf07b=_0x267a51(this['p'][_0x561b('0x2')](_0x16abeb*0x3,_0x16abeb*0x3+0x3));if(_0x3bf07b)return _0x3bf07b;var _0x747a09=_0x267a51([this['p'][_0x16abeb],this['p'][0x3+_0x16abeb],this['p'][0x2*0x3+_0x16abeb]]);if(_0x747a09)return _0x747a09;}var _0x5326a0=_0x267a51([this['p'][0x0],this['p'][0x4],this['p'][0x8]]);if(_0x5326a0)return _0x5326a0;var _0xcecb74=_0x267a51([this['p'][0x2],this['p'][0x4],this['p'][0x6]]);if(_0xcecb74)return _0xcecb74;return-0x1;}}class Game{constructor(_0x3fabe9){this['b']=new Board();this[_0x561b('0x7')]=!![];this['c']=document[_0x561b('0x8')](_0x561b('0x9'));this['ctx']=this['c']['getContext']('2d');this[_0x561b('0xa')][_0x561b('0xb')]=this['c'][_0x561b('0xb')];this[_0x561b('0xa')][_0x561b('0xc')]=this['c'][_0x561b('0xc')];this[_0x561b('0xa')]['strokeStyle']='#ffffff';this['c']['addEventListener']('click',_0x95e306=>{this['clickHandler'](_0x95e306);},![]);this[_0x561b('0xd')]=[];this[_0x561b('0xe')]=![];this['winner']=-0x1;this['ws']=_0x3fabe9;}[_0x561b('0xf')](){var _0x59b636=new Audio(_0x561b('0x10'));_0x59b636[_0x561b('0x11')]();}[_0x561b('0x12')](){this['c'][_0x561b('0x13')]('click',this['clickHandler']);}[_0x561b('0x14')](_0x16c2ee,_0x3aaa22){this['ws'][_0x561b('0x14')](JSON[_0x561b('0x15')](_0x16c2ee));if(typeof _0x3aaa22!==_0x561b('0x0'))_0x3aaa22();}[_0x561b('0x16')](_0x3b949b){if(typeof _0x3b949b[_0x561b('0x17')]!==_0x561b('0x0')){return this['send']({'action':_0x561b('0x18')});}else if(typeof _0x3b949b[_0x561b('0x19')]!=='undefined'){this[_0x561b('0x7')]=_0x3b949b[_0x561b('0x19')][_0x561b('0x7')];this[_0x561b('0xe')]=_0x3b949b[_0x561b('0x19')][_0x561b('0xe')];this[_0x561b('0x1a')]=_0x3b949b[_0x561b('0x19')][_0x561b('0x1a')];this['b']['p']=_0x3b949b['sync']['p'];if(this[_0x561b('0x7')])return this['ml']();}if(_0x3b949b['s']==='ok')return;}[_0x561b('0x1b')](){this[_0x561b('0x14')]({'action':'sync'});}[_0x561b('0x1c')](){this[_0x561b('0x1b')]();}['ml'](){var _0x303125=this[_0x561b('0xd')][_0x561b('0x6')];var _0x5324d6=![];this['evt'][_0x561b('0x1d')](_0x51aae5=>{if(this['b']['p'][this[_0x561b('0x1e')](_0x51aae5['x'],_0x51aae5['y'])]!==0x0)_0x5324d6=!![];else{this['send']({'action':_0x561b('0x1f'),'r':this[_0x561b('0x1e')](_0x51aae5['x'],_0x51aae5['y'])});this[_0x561b('0xf')]();}this[_0x561b('0xd')][_0x561b('0x20')](this[_0x561b('0xd')][_0x561b('0x21')](_0x51aae5),0x1);});this[_0x561b('0x22')]();if(!this[_0x561b('0x7')]){this[_0x561b('0x12')]();}else setTimeout(()=>{this[_0x561b('0x1c')]();},0x28);}[_0x561b('0x1e')](_0x463ccd,_0x634010){for(var _0xdb3422=0x1;_0xdb3422<=0x3;_0xdb3422++)for(var _0x30c413=0x1;_0x30c413<=0x3;_0x30c413++){var _0x306394=this[_0x561b('0xa')][_0x561b('0xb')]/0x3*(_0x30c413-0x1);var _0x492fbb=this[_0x561b('0xa')][_0x561b('0xc')]/0x3*(_0xdb3422-0x1);var _0x710e9e=this['ctx'][_0x561b('0xb')]/0x3*_0x30c413;var _0x2d1d32=this[_0x561b('0xa')][_0x561b('0xc')]/0x3*_0xdb3422;if(_0x463ccd>=_0x306394&&_0x634010>=_0x492fbb&&_0x463ccd<=_0x710e9e&&_0x634010<=_0x2d1d32){return(_0xdb3422-0x1)*0x3+(_0x30c413-0x1);}}}[_0x561b('0x22')](){this[_0x561b('0xa')][_0x561b('0x23')](0x0,0x0,this[_0x561b('0xa')]['width'],this[_0x561b('0xa')][_0x561b('0xc')]);this[_0x561b('0xa')][_0x561b('0x24')]();this[_0x561b('0xa')]['moveTo'](this[_0x561b('0xa')][_0x561b('0xb')]/0x3,0x0);this['ctx'][_0x561b('0x25')](this[_0x561b('0xa')][_0x561b('0xb')]/0x3,this[_0x561b('0xa')][_0x561b('0xb')]);this[_0x561b('0xa')][_0x561b('0x26')](this['ctx'][_0x561b('0xb')]/0x3*0x2,0x0);this[_0x561b('0xa')][_0x561b('0x25')](this[_0x561b('0xa')]['width']/0x3*0x2,this[_0x561b('0xa')]['width']);this[_0x561b('0xa')][_0x561b('0x26')](0x0,this[_0x561b('0xa')]['height']/0x3);this[_0x561b('0xa')][_0x561b('0x25')](this[_0x561b('0xa')]['height'],this[_0x561b('0xa')]['height']/0x3);this[_0x561b('0xa')]['moveTo'](0x0,this[_0x561b('0xa')][_0x561b('0xc')]/0x3*0x2);this[_0x561b('0xa')][_0x561b('0x25')](this[_0x561b('0xa')][_0x561b('0xc')],this[_0x561b('0xa')][_0x561b('0xc')]/0x3*0x2);for(var _0xc34cf7=0x0;_0xc34cf7<0x3;_0xc34cf7++)for(var _0x300a07=0x0;_0x300a07<0x3;_0x300a07++){var _0x4a6375=this['b']['p'][_0xc34cf7*0x3+_0x300a07];var _0x16945c=0x42+this[_0x561b('0xa')][_0x561b('0xb')]/0x3*_0x300a07;var _0x754f1b=0x42+this[_0x561b('0xa')]['height']/0x3*_0xc34cf7;if(_0x4a6375==0x1){this[_0x561b('0xa')][_0x561b('0x26')](_0x16945c+0x28,_0x754f1b);this[_0x561b('0xa')][_0x561b('0x27')](_0x16945c,_0x754f1b,0x28,0x0,0x2*Math['PI']);}else if(_0x4a6375==0x2){this['ctx'][_0x561b('0x26')](_0x16945c-0x28,_0x754f1b-0x28);this[_0x561b('0xa')][_0x561b('0x25')](_0x16945c+0x28,_0x754f1b+0x28);this[_0x561b('0xa')]['moveTo'](_0x16945c+0x28,_0x754f1b-0x28);this[_0x561b('0xa')][_0x561b('0x25')](_0x16945c-0x28,_0x754f1b+0x28);}}this[_0x561b('0xa')][_0x561b('0x28')]();}['clickHandler'](_0x6e3282){if(!this[_0x561b('0x7')]||this['block']){return;}var _0xfdf881={};if(_0x6e3282[_0x561b('0x29')]||_0x6e3282[_0x561b('0x2a')]){_0xfdf881['x']=_0x6e3282[_0x561b('0x29')];_0xfdf881['y']=_0x6e3282[_0x561b('0x2a')];}else{_0xfdf881['x']=_0x6e3282[_0x561b('0x2b')]+document[_0x561b('0x2c')][_0x561b('0x2d')]+document[_0x561b('0x2e')][_0x561b('0x2d')];_0xfdf881['y']=_0x6e3282[_0x561b('0x2f')]+document['body']['scrollTop']+document[_0x561b('0x2e')][_0x561b('0x30')];}_0xfdf881['x']-=this['c'][_0x561b('0x31')];_0xfdf881['y']-=this['c'][_0x561b('0x32')];this[_0x561b('0xd')][_0x561b('0x4')](_0xfdf881);}}class GameManager{constructor(){console[_0x561b('0x33')](_0x561b('0x34'));this[_0x561b('0x35')]=null;this['c']=document[_0x561b('0x8')](_0x561b('0x9'));this[_0x561b('0xa')]=this['c'][_0x561b('0x36')]('2d');this[_0x561b('0xa')][_0x561b('0x37')]=_0x561b('0x38');this['ctx'][_0x561b('0x39')]=_0x561b('0x3a');this[_0x561b('0xa')]['extBaseline']=_0x561b('0x3b');this[_0x561b('0xa')][_0x561b('0x3c')]=_0x561b('0x3d');this[_0x561b('0x3e')]=!![];this[_0x561b('0x3f')]=![];this['_name']='';this[_0x561b('0x40')]='';this['ready']=![];this['waiting']=![];this[_0x561b('0x41')]=_0x561b('0x42');this['c'][_0x561b('0x43')](_0x561b('0x44'),_0xd2a737=>{if(this[_0x561b('0x7')]()||this[_0x561b('0x45')]()||!this[_0x561b('0x46')]||this[_0x561b('0x47')])return;else{this[_0x561b('0x47')]=!![];this['ws']['send'](JSON[_0x561b('0x15')]({'action':_0x561b('0x1c')}));}});document[_0x561b('0x43')](_0x561b('0x48'),_0x29a312=>{if(!_0x29a312[_0x561b('0x49')][_0x561b('0x4a')](/[^0-9a-z]/i)&&_0x29a312['key']!=='OS'){if(this[_0x561b('0x45')]()){if(_0x29a312[_0x561b('0x49')]===_0x561b('0x4b')){if(this[_0x561b('0x3e')])this[_0x561b('0x4c')]=this[_0x561b('0x4c')][_0x561b('0x4d')](0x0,this[_0x561b('0x4c')][_0x561b('0x6')]-0x1);else if(this[_0x561b('0x3f')])this[_0x561b('0x40')]=this['_room'][_0x561b('0x4d')](0x0,this['_room'][_0x561b('0x6')]-0x1);}else if(_0x29a312[_0x561b('0x49')]==='Enter'){if(this[_0x561b('0x3e')]){this[_0x561b('0x3e')]=![];this[_0x561b('0x3f')]=!![];}else if(this[_0x561b('0x3f')]){this['_room_entering']=![];this[_0x561b('0x4e')]();}}else if(!_0x29a312['key']['match'](/[^0-9]/i)||_0x29a312[_0x561b('0x49')][0x0]!==_0x29a312[_0x561b('0x49')][0x0][_0x561b('0x4f')]()){if(this[_0x561b('0x3e')]&&this[_0x561b('0x4c')][_0x561b('0x6')]<=0x10)this[_0x561b('0x4c')]+=_0x29a312[_0x561b('0x49')];else if(this[_0x561b('0x3f')]&&this['_room']['length']<=0x10)this[_0x561b('0x40')]+=_0x29a312[_0x561b('0x49')];}}}});this['sw']=![];this[_0x561b('0x1f')]();}[_0x561b('0x4e')](){this['ws']=new WebSocket(_0x561b('0x50'));this['ws']['onmessage']=_0x346657=>{var _0x329e6b=JSON[_0x561b('0x51')](_0x346657[_0x561b('0x52')]);if(typeof _0x329e6b['e']!==_0x561b('0x0'))return console[_0x561b('0x33')](_0x329e6b['e']);else if(typeof _0x329e6b[_0x561b('0x1c')]!==_0x561b('0x0')){this[_0x561b('0x47')]=![];return this[_0x561b('0x53')]();}if(this[_0x561b('0x35')]!==null)this[_0x561b('0x35')][_0x561b('0x16')](_0x329e6b);};this['ws']['onopen']=()=>{console['log'](_0x561b('0x54')+this[_0x561b('0x4c')]);this['ws'][_0x561b('0x14')](JSON['stringify']({'action':_0x561b('0x55'),'name':this[_0x561b('0x4c')]}));console[_0x561b('0x33')](_0x561b('0x56')+this[_0x561b('0x40')]);this['ws']['send'](JSON[_0x561b('0x15')]({'action':_0x561b('0x57'),'name':this[_0x561b('0x40')]}));this[_0x561b('0x46')]=!![];};this['ws'][_0x561b('0x58')]=_0x119e29=>{this[_0x561b('0x41')]=_0x561b('0x59');};}[_0x561b('0x45')](){return this[_0x561b('0x3f')]||this[_0x561b('0x3e')];}[_0x561b('0x7')](){if(this[_0x561b('0x35')]!==null)if(this[_0x561b('0x35')][_0x561b('0x7')])return!![];return![];}['newgame'](){console[_0x561b('0x33')](_0x561b('0x5a'));this[_0x561b('0x35')]=new Game(this['ws']);this[_0x561b('0x35')][_0x561b('0x1c')]();}[_0x561b('0x1f')](){if(this[_0x561b('0x35')]!==null){if(this[_0x561b('0x35')]['playing']||this['sw']){setTimeout(()=>{this[_0x561b('0x1f')]();},this[_0x561b('0x45')]()?0x32:0x258);return;}if(this[_0x561b('0x35')][_0x561b('0x1a')]!==null){this['sw']=!![];this['ctx'][_0x561b('0x23')](0x0,0x0,this['c'][_0x561b('0xb')],this['c'][_0x561b('0xc')]);this['ctx'][_0x561b('0x24')]();if(this[_0x561b('0x5b')]){this[_0x561b('0xa')][_0x561b('0x5c')]('No\x20more\x20moves',this['c']['width']/0x2,this['c'][_0x561b('0xc')]/0x2);}else if(this['curr'][_0x561b('0x1a')]==-0x1){this[_0x561b('0xa')][_0x561b('0x5c')]('Tie',this['c']['width']/0x2,this['c']['height']/0x2);}else{var _0x2ee19b=this[_0x561b('0x35')][_0x561b('0x1a')]==0x1?'O':'X';this[_0x561b('0xa')][_0x561b('0x5c')](_0x561b('0x5d')+_0x2ee19b,this['c']['width']/0x2,this['c'][_0x561b('0xc')]/0x2);}setTimeout(()=>{this[_0x561b('0x35')][_0x561b('0x1a')]=null;this['sw']=![];},0x7d0);setTimeout(()=>{this[_0x561b('0x1f')]();},this[_0x561b('0x45')]()?0x32:0x258);return;}}this[_0x561b('0xa')][_0x561b('0x23')](0x0,0x0,this['c'][_0x561b('0xb')],this['c'][_0x561b('0xc')]);this[_0x561b('0xa')][_0x561b('0x24')]();if(this[_0x561b('0x3e')]){this[_0x561b('0xa')][_0x561b('0x5c')]('Enter\x20your\x20name',this['c']['width']/0x2,this['c'][_0x561b('0xc')]/0x2-0x32);this[_0x561b('0xa')][_0x561b('0x5c')](this[_0x561b('0x4c')],this['c'][_0x561b('0xb')]/0x2,this['c'][_0x561b('0xc')]/0x2);}else if(this[_0x561b('0x3f')]){this[_0x561b('0xa')][_0x561b('0x5c')](_0x561b('0x5e'),this['c'][_0x561b('0xb')]/0x2,this['c'][_0x561b('0xc')]/0x2-0x32);this[_0x561b('0xa')]['fillText'](this[_0x561b('0x40')],this['c'][_0x561b('0xb')]/0x2,this['c'][_0x561b('0xc')]/0x2);}else if(!this[_0x561b('0x46')])this[_0x561b('0xa')][_0x561b('0x5c')](this[_0x561b('0x41')],this['c'][_0x561b('0xb')]/0x2,this['c'][_0x561b('0xc')]/0x2);else if(this[_0x561b('0x47')]){this[_0x561b('0xa')][_0x561b('0x5c')]('Waiting\x20for\x20other',this['c'][_0x561b('0xb')]/0x2,this['c'][_0x561b('0xc')]/0x2-0x19);this[_0x561b('0xa')][_0x561b('0x5c')](_0x561b('0x5f'),this['c'][_0x561b('0xb')]/0x2,this['c'][_0x561b('0xc')]/0x2+0x19);}else this[_0x561b('0xa')][_0x561b('0x5c')](_0x561b('0x60'),this['c']['width']/0x2,this['c'][_0x561b('0xc')]/0x2);setTimeout(()=>{this[_0x561b('0x1f')]();},this[_0x561b('0x45')]()?0x32:0x258);}}
